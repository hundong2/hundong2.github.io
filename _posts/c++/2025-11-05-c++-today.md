---
title: "C++ - C++23의 `std::source_location::current()`를 활용한 로깅 및 디버깅 자동화"
date: 2025-11-05 21:03:31 +0900
categories: c++
tags: [c++, 최신기술, 추천, C++, C++23의, `std::source_location::current()`를, 활용한, 로깅, 디버깅, 자동화]
---

## 오늘의 C++ 최신 기술 트렌드: **C++23의 `std::source_location::current()`를 활용한 로깅 및 디버깅 자동화**

**1. 간단한 설명:**
`std::source_location`은 C++20에서 도입된 기능으로, 코드 내 특정 위치의 파일 이름, 함수 이름, 라인 번호, 컬럼 번호 정보를 담고 있습니다. C++23에서는 `std::source_location::current()`가 `constexpr`이 되어 컴파일 타임에 소스 위치 정보를 획득할 수 있게 되었습니다. 이를 활용하면, 로깅 및 디버깅 코드에서 수동으로 파일 이름이나 라인 번호를 입력할 필요 없이, 컴파일러가 자동으로 소스 위치 정보를 제공하여 더욱 효율적이고 유지보수하기 쉬운 로깅 시스템을 구축할 수 있습니다. 특히, 컴파일 타임에 소스 위치 정보를 알 수 있으므로, 템플릿 메타프로그래밍과 결합하여 더욱 강력한 로깅 및 디버깅 도구를 만들 수 있습니다.

**2. 참고할 만한 공식 사이트나 블로그 링크:**

*   **cppreference.com:** [https://en.cppreference.com/w/cpp/utility/source_location](https://en.cppreference.com/w/cpp/utility/source_location)
*   **Modernes C++:** [https://www.modernescpp.com/index.php/c-20-details-source-location](https://www.modernescpp.com/index.php/c-20-details-source-location) (C++20 설명이지만 개념 이해에 도움)

**3. 간단한 코드 예시 (C++):**

```cpp
#include <iostream>
#include <source_location>
#include <string>

void log_message(const std::string& message,
                 const std::source_location& location = std::source_location::current()) {
    std::cout << "File: " << location.file_name() << std::endl;
    std::cout << "Line: " << location.line() << std::endl;
    std::cout << "Function: " << location.function_name() << std::endl;
    std::cout << "Message: " << message << std::endl;
    std::cout << "-----------------------" << std::endl;
}

int main() {
    log_message("Application started.");

    int x = 10;
    if (x > 5) {
        log_message("x is greater than 5.");
    }

    return 0;
}
```

**4. 코드 실행 결과 예시:**

```
File: main.cpp
Line: 16
Function: main
Message: Application started.
-----------------------
File: main.cpp
Line: 20
Function: main
Message: x is greater than 5.
-----------------------
```

**설명:** 위 코드는 `log_message` 함수를 정의하여 파일 이름, 라인 번호, 함수 이름, 메시지를 함께 출력합니다. `std::source_location::current()`를 사용하여 해당 함수의 호출 위치 정보를 자동으로 얻어와 출력합니다. 이 예시에서는 `main` 함수 내에서 로깅 메시지를 출력하며, 컴파일러가 자동으로 해당 위치 정보를 채워줍니다. `constexpr` 특성을 활용하면, 컴파일 타임에 로깅 메시지를 생성하거나, 특정 조건 하에서 로깅을 활성화/비활성화하는 등의 고급 활용이 가능합니다. 이를 통해 디버깅 정보 출력을 더욱 효율적이고 자동으로 관리할 수 있습니다.

