---
title: "C++ - C++23의 `std::expected`를 활용한 개선된 오류 처리"
date: 2025-08-26 21:03:15 +0900
categories: c++
tags: [c++, 최신기술, 추천, C++, C++23의, `std::expected`를, 활용한, 개선된, 오류, 처리]
---

## 오늘의 C++ 최신 기술 트렌드: **C++23의 `std::expected`를 활용한 개선된 오류 처리**

**1. 간단한 설명:**

`std::expected<T, E>`는 C++23에 도입된 템플릿 클래스로, 함수가 성공적으로 값을 반환하거나, 예상되는 오류를 반환할 수 있음을 명시적으로 표현합니다.  이는 기존의 예외 처리 방식과 `std::optional`의 단점을 보완하며, 함수가 오류를 처리하는 방식을 더욱 명확하고 안전하게 만들 수 있도록 돕습니다.  `std::expected`는 값을 반환하거나, 오류 코드를 반환하는 두 가지 상태를 명확하게 구분하여, 호출자가 반환된 값을 사용하기 전에 오류 발생 여부를 반드시 확인하도록 강제합니다. 이는 런타임 예외 처리의 오버헤드를 피하면서, `std::optional`이 제공하지 못하는 오류 정보 전달 기능을 제공합니다. `std::expected`는 Result 타입과 유사하게 동작하며, 함수가 성공적인 결과 또는 구체적인 오류 정보를 반환할 수 있게 해줍니다.

**2. 참고할 만한 공식 사이트나 블로그 링크:**

*   **cppreference.com:** [https://en.cppreference.com/w/cpp/utility/expected](https://en.cppreference.com/w/cpp/utility/expected)
*   **P0323R10 (Proposal for `std::expected`):** [http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p0323r10.html](http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2023/p0323r10.html)
*   **Various blog posts and articles on `std::expected`** (검색 엔진에서 "C++ std::expected"로 검색)

**3. 간단한 코드 예시 (C++):**

```c++
#include <expected>
#include <iostream>
#include <string>

enum class Error {
    DivisionByZero,
    InvalidInput
};

std::expected<double, Error> divide(double a, double b) {
    if (b == 0.0) {
        return std::unexpected(Error::DivisionByZero);
    }
    return a / b;
}

int main() {
    auto result = divide(10.0, 2.0);

    if (result) {
        std::cout << "Result: " << *result << std::endl;
    } else {
        switch (result.error()) {
            case Error::DivisionByZero:
                std::cerr << "Error: Division by zero!" << std::endl;
                break;
            case Error::InvalidInput:
                std::cerr << "Error: Invalid input!" << std::endl;
                break;
            default:
                std::cerr << "Error: Unknown error!" << std::endl;
        }
    }

    auto result2 = divide(5.0, 0.0);

    if (result2) {
        std::cout << "Result: " << *result2 << std::endl;
    } else {
        switch (result2.error()) {
            case Error::DivisionByZero:
                std::cerr << "Error: Division by zero!" << std::endl;
                break;
            case Error::InvalidInput:
                std::cerr << "Error: Invalid input!" << std::endl;
                break;
            default:
                std::cerr << "Error: Unknown error!" << std::endl;
        }
    }

    return 0;
}
```

**4. 코드 실행 결과 예시:**

```
Result: 5
Error: Division by zero!
```

