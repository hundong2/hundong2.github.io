---
title: "C++ - C++에서의 WebAssembly (Wasm) 활용"
date: 2025-08-17 21:02:49 +0900
categories: c++
tags: [c++, 최신기술, 추천, C++, C++에서의, WebAssembly, (Wasm), 활용]
---

## 오늘의 C++ 최신 기술 트렌드: **C++에서의 WebAssembly (Wasm) 활용**

**1. 간단한 설명:**

C++ 코드를 WebAssembly (Wasm)로 컴파일하여 웹 브라우저, 서버 사이드 (Node.js, Wasmer 등), 임베디드 환경 등 다양한 플랫폼에서 고성능으로 실행하는 기술입니다. C++의 성능과 WebAssembly의 이식성 및 보안성을 결합하여 게임, 멀티미디어, 복잡한 계산 작업 등 리소스 집약적인 애플리케이션을 개발하는 데 유용합니다.  WebAssembly를 사용하면 웹 브라우저에서 C++로 작성된 기존 코드를 재사용하거나, 새로운 C++ 기반 웹 애플리케이션을 개발할 수 있습니다.  특히, C++로 작성된 과학 계산, 시뮬레이션, 또는 게임 엔진과 같은 고성능 코드를 웹 환경에서 실행할 때 큰 이점을 얻을 수 있습니다. 또한, 보안 샌드박스 내에서 실행되므로 웹 환경에서 C++ 코드를 안전하게 실행할 수 있습니다.

**2. 참고할 만한 공식 사이트나 블로그 링크:**

*   **Emscripten:** [https://emscripten.org/](https://emscripten.org/) - C/C++를 WebAssembly로 컴파일하는 도구 체인입니다.
*   **WebAssembly 공식 사이트:** [https://webassembly.org/](https://webassembly.org/)
*   **Wasmer:** [https://wasmer.io/](https://wasmer.io/) - WebAssembly 런타임입니다. 서버 사이드에서 WebAssembly를 실행하는 데 사용됩니다.
*   **Google Developers - WebAssembly:** [https://developers.google.com/web/updates/2019/12/webassembly](https://developers.google.com/web/updates/2019/12/webassembly)

**3. 간단한 코드 예시 (C++):**

```cpp
#include <iostream>

extern "C" {
  int add(int a, int b) {
    return a + b;
  }
}

int main() {
  std::cout << "Hello from C++!" << std::endl;
  return 0;
}
```

**컴파일 명령어 (Emscripten 사용):**

```bash
emcc -O3 -s EXPORTED_FUNCTIONS="['_add']" -s EXPORTED_RUNTIME_METHODS="['ccall','cwrap']" main.cpp -o main.js
```

**HTML/JavaScript 코드 (main.js 파일 사용):**

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>C++ WASM Example</title>
</head>
<body>
  <script src="main.js"></script>
  <script>
    Module.onRuntimeInitialized = () => {
      // ccall 사용 예시
      var result = Module.ccall('add', 'number', ['number', 'number'], [5, 3]);
      console.log('5 + 3 = ' + result);

      // cwrap 사용 예시
      var add_wrapped = Module.cwrap('add', 'number', ['number', 'number']);
      var result2 = add_wrapped(10, 7);
      console.log('10 + 7 = ' + result2);
    };
  </script>
</body>
</html>
```

**4. 코드 실행 결과 예시:**

브라우저 콘솔에 다음 내용이 출력됩니다.

```
Hello from C++!
5 + 3 = 8
10 + 7 = 17
```

**설명:**

1.  **C++ 코드:** `add` 함수는 두 정수를 더하는 간단한 함수입니다.  `extern "C"`는 C++ 컴파일러에게 이 함수가 C 스타일의 링키지 (C 링키지)를 사용하도록 지시합니다. WebAssembly와의 호환성을 위해 필요합니다.
2.  **Emscripten 컴파일:** `emcc` 명령은 C++ 코드를 WebAssembly로 컴파일합니다. `-O3`는 최적화를 활성화하고, `-s EXPORTED_FUNCTIONS="['_add']"`는 `add` 함수를 JavaScript에서 호출할 수 있도록 내보냅니다. `-s EXPORTED_RUNTIME_METHODS="['ccall','cwrap']"`는 Emscripten 런타임에서 `ccall` 및 `cwrap` 메서드를 사용할 수 있도록 내보냅니다.
3.  **JavaScript 코드:**  `Module.onRuntimeInitialized` 콜백은 WebAssembly 모듈이 로드되고 초기화된 후에 실행됩니다.  `Module.ccall`과 `Module.cwrap`은 Emscripten에서 제공하는 함수로, JavaScript에서 WebAssembly 함수를 호출하는 데 사용됩니다. `ccall`은 C 함수를 직접 호출하고, `cwrap`은 C 함수를 JavaScript 함수로 래핑하여 사용할 수 있도록 합니다.
4.  **실행 결과:** JavaScript 코드는 `add` 함수를 호출하여 결과를 콘솔에 출력합니다.

이 예제를 통해 C++ 코드를 WebAssembly로 컴파일하고 웹 브라우저에서 실행하는 기본적인 방법을 이해할 수 있습니다.  Emscripten을 사용하면 기존 C++ 프로젝트를 웹 환경으로 쉽게 포팅할 수 있습니다.

