---
title: "C++ - P2971R2 static vector"
date: 2025-11-30 21:03:25 +0900
categories: c++
tags: [c++, 최신기술, 추천, C++, P2971R2, static, vector]
---

## 오늘의 C++ 최신 기술 트렌드: **P2971R2 static vector**

**1. 간단한 설명:**
`P2971R2 static vector`는 C++ 표준 라이브러리에 정적 크기를 가지는 `std::vector`와 유사한 컨테이너를 추가하는 제안입니다. 컴파일 시간에 크기가 결정되므로 힙 메모리 할당 없이 스택 메모리에 할당될 수 있습니다. 이는 성능 향상, 메모리 사용량 예측 가능성 향상, 그리고 임베디드 시스템과 같이 메모리 할당이 제한적인 환경에서 유용합니다. `constexpr` 환경에서도 사용 가능하여 컴파일 시간에 데이터를 초기화하거나 조작할 수 있습니다. 기존 `std::array`와 유사하지만 동적으로 항목을 추가/제거할 수 있습니다 (정적 크기 내에서).

**2. 참고할 만한 공식 사이트나 블로그 링크:**

*   **제안 문서:** [https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2971r2.html](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2024/p2971r2.html) (가장 최신 제안 문서)

**3. 간단한 코드 예시 (C++):**

```cpp
#include <static_vector> // 헤더는 제안의 구현에 따라 달라질 수 있음
#include <iostream>

int main() {
    // 크기가 5인 static_vector 생성 (초기화되지 않음)
    cpp23::static_vector<int, 5> vec;

    // 요소 추가
    vec.push_back(10);
    vec.push_back(20);
    vec.push_back(30);

    // 현재 크기 및 용량 출력
    std::cout << "Size: " << vec.size() << std::endl;
    std::cout << "Capacity: " << vec.capacity() << std::endl;

    // 요소 접근 및 출력
    for (size_t i = 0; i < vec.size(); ++i) {
        std::cout << "Element " << i << ": " << vec[i] << std::endl;
    }

    //constexpr 환경에서의 사용 예시
    constexpr cpp23::static_vector<int, 3> const_vec = {1, 2, 3};
    static_assert(const_vec[0] == 1);

    return 0;
}
```

**4. 코드 실행 결과 예시:**

```
Size: 3
Capacity: 5
Element 0: 10
Element 1: 20
Element 2: 30
```

**주의:** `static_vector`는 아직 C++ 표준에 포함되지 않았습니다. 따라서 위 코드는 실제 컴파일러에서 바로 실행되지 않을 수 있습니다. 해당 기능의 구현은 라이브러리 형태로 제공될 수 있으며, 라이브러리 이름은 `cpp23::static_vector`가 아닐 수도 있습니다. 코드 예시는 제안된 기능의 사용법을 보여주기 위한 것입니다.

