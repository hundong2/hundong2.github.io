---
title: "C++ - C++23의 `std::stacktrace`를 활용한 향상된 디버깅"
date: 2025-10-19 21:02:47 +0900
categories: c++
tags: [c++, 최신기술, 추천, C++, C++23의, `std::stacktrace`를, 활용한, 향상된, 디버깅]
---

## 오늘의 C++ 최신 기술 트렌드: **C++23의 `std::stacktrace`를 활용한 향상된 디버깅**

**1. 간단한 설명:**

C++23에 추가된 `std::stacktrace`는 프로그램 실행 중 스택 프레임을 캡처하고 저장하여 오류 발생 시 디버깅 정보를 획득하는 데 사용됩니다. 기존의 스택 트레이스 기능은 운영체제 및 컴파일러에 의존적이었지만, `std::stacktrace`는 표준 라이브러리에 포함되어 이식성이 높고 사용하기 편리합니다. `std::stacktrace`를 활용하면 오류 발생 위치뿐만 아니라 호출 스택 전체를 파악하여 문제의 근본 원인을 더 쉽게 찾을 수 있습니다. 특히 예외 처리, 로깅, 테스트 등 다양한 상황에서 유용하게 활용될 수 있습니다.

**2. 참고할 만한 공식 사이트나 블로그 링크:**

*   **cppreference.com:** [https://en.cppreference.com/w/cpp/utility/stacktrace](https://en.cppreference.com/w/cpp/utility/stacktrace)
*   **Nicolai Josuttis' Blog:** 관련 내용 검색 필요 (출시 후 자료가 늘어날 것으로 예상됩니다.)
*   **Compiler Explorer (godbolt.org):** 코드를 컴파일하고 실행해 보면서 기능을 익힐 수 있습니다.

**3. 간단한 코드 예시 (C++):**

```cpp
#include <iostream>
#include <stacktrace>
#include <stdexcept>

void function_c() {
    std::cerr << "Exception thrown in function_c\n" << std::stacktrace::current() << std::endl;
    throw std::runtime_error("Something went wrong!");
}

void function_b() {
    function_c();
}

void function_a() {
    function_b();
}

int main() {
    try {
        function_a();
    } catch (const std::exception& e) {
        std::cerr << "Caught exception: " << e.what() << std::endl;
        std::cerr << "Stack trace:\n" << std::stacktrace::current() << std::endl;
    }

    return 0;
}
```

**4. 코드 실행 결과 예시:**

```
Exception thrown in function_c
0   function_c() at example.cpp:6
1   function_b() at example.cpp:11
2   function_a() at example.cpp:15
3   main() at example.cpp:20
4   __libc_start_main in /lib/x86_64-linux-gnu/libc.so.6
5   _start in /app/output/tmp/cc-V851f.s

Caught exception: Something went wrong!
Stack trace:
0   main() at example.cpp:22
1   __libc_start_main in /lib/x86_64-linux-gnu/libc.so.6
2   _start in /app/output/tmp/cc-V851f.s
```

**설명:**

*   `std::stacktrace::current()`는 현재 스택 트레이스를 캡처합니다.
*   예외가 발생했을 때 스택 트레이스를 출력하여 오류 발생 경로를 추적할 수 있습니다.
*   출력 형식은 컴파일러 및 운영체제에 따라 다를 수 있습니다.
*   `-fno-omit-frame-pointer` 컴파일러 플래그를 사용하면 더 정확한 스택 트레이스를 얻을 수 있습니다.

`std::stacktrace`는 C++23의 중요한 기능 중 하나이며, 디버깅 효율성을 크게 향상시킬 수 있습니다.

