---
title: "C++ - C++의 Rust와의 상호 운용성 (C++/Rust Interoperability)"
date: 2025-08-19 21:02:57 +0900
categories: c++
tags: [c++, 최신기술, 추천, C++, C++의, Rust와의, 상호, 운용성, (C++/Rust, Interoperability)]
---

## 오늘의 C++ 최신 기술 트렌드: **C++의 Rust와의 상호 운용성 (C++/Rust Interoperability)**

**1. 간단한 설명:**
C++의 성능과 기존 코드베이스의 방대함, Rust의 메모리 안전성과 현대적인 기능들을 결합하려는 시도입니다. C++/Rust Interoperability는 기존 C++ 프로젝트에 Rust 코드를 점진적으로 통합하거나, Rust 코드를 C++ 라이브러리로 사용하거나, 혹은 그 반대로 사용하는 것을 목표로 합니다. 이를 통해 두 언어의 장점을 활용하고 단점을 보완하여 더 안전하고 효율적인 소프트웨어를 개발할 수 있습니다. 다양한 바인딩 생성 도구 (예: `cxx`, `bindgen`, `cbindgen`)와 빌드 시스템 통합 (예: CMake를 통한 Rust 라이브러리 컴파일) 전략이 개발되고 있습니다.

**2. 참고할 만한 공식 사이트나 블로그 링크:**

*   **`cxx`:**  [https://cxx.rs/](https://cxx.rs/) (Rust와 C++ 코드 간 안전하고 효율적인 FFI를 위한 라이브러리)
*   **`cbindgen`:** [https://github.com/eqrion/cbindgen](https://github.com/eqrion/cbindgen) (C++ 헤더 파일을 Rust FFI 정의로 자동 생성)
*   **`bindgen`:** [https://rust-lang.github.io/rust-bindgen/](https://rust-lang.github.io/rust-bindgen/) (C 헤더 파일을 Rust 바인딩으로 자동 생성)
*   **Rust FFI Omnibus:** [https://github.com/jakevdp/RustFFI](https://github.com/jakevdp/RustFFI) (다양한 FFI 예제)
*   **Google's `autocxx`:** [https://google.github.io/autocxx/](https://google.github.io/autocxx/) (CXX의 대안으로, Google에서 개발)

**3. 간단한 코드 예시 (C++):**

```cpp
// C++ code (main.cpp)
#include <iostream>

// Rust 함수 선언 (외부 C 함수로 취급)
extern "C" {
    int rust_add(int a, int b);
}

int main() {
    int result = rust_add(5, 3);
    std::cout << "Result from Rust: " << result << std::endl;
    return 0;
}
```

```rust
// Rust code (lib.rs)
#[no_mangle]
pub extern "C" fn rust_add(a: i32, b: i32) -> i32 {
    a + b
}
```

**4. 코드 실행 결과 예시:**

```
Result from Rust: 8
```

**설명:**

*   **C++ 코드:**  `extern "C"` 를 사용하여 Rust 함수를 C 스타일 함수로 선언합니다.  이렇게 하면 C++ 컴파일러가 이름 맹글링을 수행하지 않아 Rust 함수를 찾을 수 있습니다.
*   **Rust 코드:**  `#[no_mangle]` 어트리뷰트는 Rust 컴파일러가 함수 이름을 변경하지 않도록 합니다.  `pub extern "C"` 는 함수를 공개된 C 스타일 함수로 만듭니다.
*   **빌드:** C++ 컴파일러와 Rust 컴파일러를 사용하여 각각 C++ 코드와 Rust 코드를 컴파일하고 링크해야 합니다.  CMake와 같은 빌드 시스템을 사용하여 이 과정을 자동화할 수 있습니다. 예를 들어, Rust 코드를 static library로 컴파일하고 C++ 코드와 링크할 수 있습니다.
*   **cxx 라이브러리:**  더 복잡한 데이터 구조를 전달하고 더 안전한 상호 운용성을 확보하려면 `cxx`와 같은 라이브러리를 사용하는 것이 좋습니다.  `cxx`는 Rust와 C++ 코드 간에 데이터를 안전하게 공유할 수 있는 기능을 제공하며, 수동으로 FFI 바인딩을 작성하는 데 드는 노력을 줄여줍니다.

이 예제는 매우 간단하지만 C++와 Rust 코드 간의 기본적인 상호 작용을 보여줍니다. 더 복잡한 시나리오에서는 `cxx`, `bindgen`, `cbindgen`과 같은 도구를 사용하여 더 안전하고 효율적인 상호 운용성을 구현할 수 있습니다.

