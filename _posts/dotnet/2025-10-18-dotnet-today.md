---
title: "DOTNET - .NET의 IIncrementalGenerator"
date: 2025-10-18 21:02:56 +0900
categories: dotnet
tags: [dotnet, 최신기술, 추천, DOTNET, .NET의, IIncrementalGenerator]
---

## 오늘의 DOTNET 최신 기술 트렌드: **.NET의 IIncrementalGenerator**

**1. 간단한 설명:**

`IIncrementalGenerator`는 Source Generators의 발전된 형태로, 빌드 과정에서 점진적으로 코드를 생성하고 변경 사항을 감지하여 필요한 부분만 다시 생성함으로써 빌드 성능을 크게 향상시킵니다. 일반적인 Source Generator는 전체 컴파일 단위를 입력으로 받아 코드를 생성하는 반면, `IIncrementalGenerator`는 특정 코드 변경 사항에만 반응하여 생성 작업을 수행하므로 대규모 프로젝트에서 빌드 시간을 단축하는 데 특히 유용합니다.  `IIncrementalGenerator`는 LINQ 기반의 파이프라인을 사용하여 소스 코드, 애트리뷰트, 컴파일 옵션 등 다양한 입력을 변환하고 필터링하여 필요한 정보만 처리할 수 있습니다.

**2. 참고할 만한 공식 사이트나 블로그 링크:**

*   **Microsoft Docs - Incremental Generators:** [https://learn.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/source-generators-incremental](https://learn.microsoft.com/en-us/dotnet/csharp/roslyn-sdk/source-generators-incremental)
*   **Andrew Lock's Blog - A basic incremental source generator:** [https://andrewlock.net/exploring-dotnet-6-part-6-incremental-source-generators/](https://andrewlock.net/exploring-dotnet-6-part-6-incremental-source-generators/)

**3. 간단한 코드 예시 (C#):**

```csharp
using Microsoft.CodeAnalysis;

[Generator]
public class IncrementalHelloSourceGenerator : IIncrementalGenerator
{
    public void Initialize(IncrementalGeneratorInitializationContext context)
    {
        // 문자열 리터럴을 포함하는 구문 노드를 필터링합니다.
        IncrementalValuesProvider<LiteralExpressionSyntax> literalExpressions = context.SyntaxProvider
            .CreateSyntaxProvider(
                predicate: static (s, _) => s is LiteralExpressionSyntax, // 노드가 LiteralExpressionSyntax인지 확인
                transform: static (ctx, _) => (LiteralExpressionSyntax)ctx.Node) // SyntaxNode를 LiteralExpressionSyntax로 캐스팅
            .Where(static m => m.Token.ValueText.Contains("Hello")); // 토큰의 텍스트가 "Hello"를 포함하는지 확인

        // 코드를 생성합니다.
        context.RegisterSourceOutput(literalExpressions,
            static (spc, source) =>
            {
                // 소스 코드 생성
                spc.AddSource($"HelloWorld_{source.Token.ValueText}.g.cs",
                    $$"""
                    // <auto-generated/>
                    using System;

                    namespace Generated
                    {
                        public static class HelloWorld_{{source.Token.ValueText}}
                        {
                            public static void SayHello()
                            {
                                Console.WriteLine("Hello from '{{source.Token.ValueText}}'!");
                            }
                        }
                    }
                    """
                );
            });
    }
}
```

**4. 코드 실행 결과 예시:**

위의 예제에서 코드에 `"Hello World"`라는 문자열 리터럴이 있는 경우, 다음과 같은 `HelloWorld_Hello World.g.cs` 파일이 생성됩니다.

```csharp
// <auto-generated/>
using System;

namespace Generated
{
    public static class HelloWorld_Hello World
    {
        public static void SayHello()
        {
            Console.WriteLine("Hello from 'Hello World'!");
        }
    }
}
```

이 생성된 코드는 `Generated` 네임스페이스에 `HelloWorld_Hello World`라는 클래스를 정의하고, `SayHello` 메서드를 통해 콘솔에 메시지를 출력합니다. 문자열 리터럴이 변경될 때마다(예: `"Hello .NET"`으로 변경)  `IIncrementalGenerator`는 해당 부분만 다시 생성하여 빌드 속도를 높입니다.

